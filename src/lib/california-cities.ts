// California cities to counties mapping
export const cityToCounty: Record<string, string> = {
  // Alameda County
  'alameda': 'Alameda',
  'albany': 'Alameda',
  'berkeley': 'Alameda',
  'dublin': 'Alameda',
  'emeryville': 'Alameda',
  'fremont': 'Alameda',
  'hayward': 'Alameda',
  'livermore': 'Alameda',
  'newark': 'Alameda',
  'oakland': 'Alameda',
  'piedmont': 'Alameda',
  'pleasanton': 'Alameda',
  'san leandro': 'Alameda',
  'union city': 'Alameda',

  // Los Angeles County (major cities)
  'los angeles': 'Los Angeles',
  'long beach': 'Los Angeles',
  'glendale': 'Los Angeles',
  'santa clarita': 'Los Angeles',
  'lancaster': 'Los Angeles',
  'palmdale': 'Los Angeles',
  'pomona': 'Los Angeles',
  'torrance': 'Los Angeles',
  'pasadena': 'Los Angeles',
  'el monte': 'Los Angeles',
  'downey': 'Los Angeles',
  'inglewood': 'Los Angeles',
  'west covina': 'Los Angeles',
  'norwalk': 'Los Angeles',
  'burbank': 'Los Angeles',
  'compton': 'Los Angeles',
  'south gate': 'Los Angeles',
  'carson': 'Los Angeles',
  'santa monica': 'Los Angeles',
  'whittier': 'Los Angeles',
  'hawthorne': 'Los Angeles',
  'alhambra': 'Los Angeles',
  'lakewood': 'Los Angeles',
  'bellflower': 'Los Angeles',
  'baldwin park': 'Los Angeles',
  'redondo beach': 'Los Angeles',
  'paramount': 'Los Angeles',
  'montebello': 'Los Angeles',
  'monterey park': 'Los Angeles',
  'rosemead': 'Los Angeles',
  'pico rivera': 'Los Angeles',
  'gardena': 'Los Angeles',
  'cerritos': 'Los Angeles',
  'bellingham': 'Los Angeles',
  'lynwood': 'Los Angeles',
  'la puente': 'Los Angeles',
  'arcadia': 'Los Angeles',
  'redlands': 'Los Angeles',
  'manhattan beach': 'Los Angeles',
  'el segundo': 'Los Angeles',
  'hermosa beach': 'Los Angeles',
  'beverly hills': 'Los Angeles',
  'culver city': 'Los Angeles',
  'west hollywood': 'Los Angeles',

  // Orange County
  'anaheim': 'Orange',
  'santa ana': 'Orange',
  'irvine': 'Orange',
  'huntington beach': 'Orange',
  'garden grove': 'Orange',
  'orange': 'Orange',
  'fullerton': 'Orange',
  'costa mesa': 'Orange',
  'mission viejo': 'Orange',
  'westminster': 'Orange',
  'newport beach': 'Orange',
  'buena park': 'Orange',
  'lake forest': 'Orange',
  'tustin': 'Orange',
  'yorba linda': 'Orange',
  'san clemente': 'Orange',
  'laguna niguel': 'Orange',
  'la habra': 'Orange',
  'fountain valley': 'Orange',
  'placentia': 'Orange',
  'rancho santa margarita': 'Orange',
  'aliso viejo': 'Orange',
  'cypress': 'Orange',
  'brea': 'Orange',
  'stanton': 'Orange',
  'dana point': 'Orange',
  'laguna beach': 'Orange',
  'laguna hills': 'Orange',
  'seal beach': 'Orange',
  'villa park': 'Orange',
  'los alamitos': 'Orange',

  // San Diego County
  'san diego': 'San Diego',
  'chula vista': 'San Diego',
  'oceanside': 'San Diego',
  'escondido': 'San Diego',
  'carlsbad': 'San Diego',
  'el cajon': 'San Diego',
  'vista': 'San Diego',
  'san marcos': 'San Diego',
  'encinitas': 'San Diego',
  'national city': 'San Diego',
  'la mesa': 'San Diego',
  'santee': 'San Diego',
  'poway': 'San Diego',
  'coronado': 'San Diego',
  'imperial beach': 'San Diego',
  'lemon grove': 'San Diego',
  'la presa': 'San Diego',
  'spring valley': 'San Diego',
  'bonita': 'San Diego',
  'del mar': 'San Diego',
  'solana beach': 'San Diego',

  // Riverside County
  'riverside': 'Riverside',
  'moreno valley': 'Riverside',
  'corona': 'Riverside',
  'temecula': 'Riverside',
  'murrieta': 'Riverside',
  'indio': 'Riverside',
  'palm springs': 'Riverside',
  'hemet': 'Riverside',
  'palm desert': 'Riverside',
  'lake elsinore': 'Riverside',
  'cathedral city': 'Riverside',
  'menifee': 'Riverside',
  'perris': 'Riverside',
  'banning': 'Riverside',
  'beaumont': 'Riverside',
  'coachella': 'Riverside',
  'desert hot springs': 'Riverside',
  'la quinta': 'Riverside',
  'rancho mirage': 'Riverside',
  'indian wells': 'Riverside',

  // San Bernardino County
  'san bernardino': 'San Bernardino',
  'fontana': 'San Bernardino',
  'rancho cucamonga': 'San Bernardino',
  'ontario': 'San Bernardino',
  'victorville': 'San Bernardino',
  'rialto': 'San Bernardino',
  'upland': 'San Bernardino',
  'chino hills': 'San Bernardino',
  'chino': 'San Bernardino',
  'redlands': 'San Bernardino',
  'apple valley': 'San Bernardino',
  'hesperia': 'San Bernardino',
  'highland': 'San Bernardino',
  'colton': 'San Bernardino',
  'montclair': 'San Bernardino',
  'adelanto': 'San Bernardino',
  'twentynine palms': 'San Bernardino',
  'barstow': 'San Bernardino',
  'yucaipa': 'San Bernardino',
  'loma linda': 'San Bernardino',
  'grand terrace': 'San Bernardino',
  'needles': 'San Bernardino',

  // Santa Clara County (Bay Area)
  'san jose': 'Santa Clara',
  'sunnyvale': 'Santa Clara',
  'santa clara': 'Santa Clara',
  'mountain view': 'Santa Clara',
  'palo alto': 'Santa Clara',
  'milpitas': 'Santa Clara',
  'fremont': 'Santa Clara',
  'cupertino': 'Santa Clara',
  'campbell': 'Santa Clara',
  'morgan hill': 'Santa Clara',
  'gilroy': 'Santa Clara',
  'saratoga': 'Santa Clara',
  'los altos': 'Santa Clara',
  'los altos hills': 'Santa Clara',
  'monte sereno': 'Santa Clara',

  // Contra Costa County
  'antioch': 'Contra Costa',
  'concord': 'Contra Costa',
  'richmond': 'Contra Costa',
  'fremont': 'Contra Costa',
  'hayward': 'Contra Costa',
  'walnut creek': 'Contra Costa',
  'pittsburg': 'Contra Costa',
  'san ramon': 'Contra Costa',
  'martinez': 'Contra Costa',
  'brentwood': 'Contra Costa',
  'oakley': 'Contra Costa',
  'pleasant hill': 'Contra Costa',
  'danville': 'Contra Costa',
  'el cerrito': 'Contra Costa',
  'san pablo': 'Contra Costa',
  'hercules': 'Contra Costa',
  'pinole': 'Contra Costa',
  'clayton': 'Contra Costa',
  'orinda': 'Contra Costa',
  'lafayette': 'Contra Costa',
  'moraga': 'Contra Costa',

  // Sacramento County
  'sacramento': 'Sacramento',
  'elk grove': 'Sacramento',
  'roseville': 'Sacramento',
  'folsom': 'Sacramento',
  'citrus heights': 'Sacramento',
  'rancho cordova': 'Sacramento',
  'galt': 'Sacramento',
  'isleton': 'Sacramento',

  // Fresno County
  'fresno': 'Fresno',
  'clovis': 'Fresno',
  'selma': 'Fresno',
  'reedley': 'Fresno',
  'sanger': 'Fresno',
  'kingsburg': 'Fresno',
  'parlier': 'Fresno',
  'coalinga': 'Fresno',
  'firebaugh': 'Fresno',
  'fowler': 'Fresno',
  'huron': 'Fresno',
  'mendota': 'Fresno',
  'orange cove': 'Fresno',
  'san joaquin': 'Fresno',

  // Kern County
  'bakersfield': 'Kern',
  'delano': 'Kern',
  'ridgecrest': 'Kern',
  'california city': 'Kern',
  'wasco': 'Kern',
  'shafter': 'Kern',
  'tehachapi': 'Kern',
  'taft': 'Kern',
  'arvin': 'Kern',
  'mcfarland': 'Kern',

  // Ventura County
  'oxnard': 'Ventura',
  'thousand oaks': 'Ventura',
  'simi valley': 'Ventura',
  'ventura': 'Ventura',
  'camarillo': 'Ventura',
  'moorpark': 'Ventura',
  'port hueneme': 'Ventura',
  'fillmore': 'Ventura',
  'ojai': 'Ventura',
  'santa paula': 'Ventura',

  // San Francisco County
  'san francisco': 'San Francisco',

  // Marin County
  'san rafael': 'Marin',
  'novato': 'Marin',
  'petaluma': 'Marin',
  'mill valley': 'Marin',
  'corte madera': 'Marin',
  'larkspur': 'Marin',
  'sausalito': 'Marin',
  'tiburon': 'Marin',
  'belvedere': 'Marin',
  'ross': 'Marin',
  'san anselmo': 'Marin',
  'fairfax': 'Marin',

  // San Mateo County
  'daly city': 'San Mateo',
  'san mateo': 'San Mateo',
  'redwood city': 'San Mateo',
  'south san francisco': 'San Mateo',
  'san bruno': 'San Mateo',
  'millbrae': 'San Mateo',
  'burlingame': 'San Mateo',
  'foster city': 'San Mateo',
  'san carlos': 'San Mateo',
  'belmont': 'San Mateo',
  'half moon bay': 'San Mateo',
  'pacifica': 'San Mateo',
  'menlo park': 'San Mateo',
  'atherton': 'San Mateo',
  'portola valley': 'San Mateo',
  'woodside': 'San Mateo',
  'hillsborough': 'San Mateo',
  'brisbane': 'San Mateo',
  'colma': 'San Mateo',

  // Solano County
  'vallejo': 'Solano',
  'fairfield': 'Solano',
  'vacaville': 'Solano',
  'suisun city': 'Solano',
  'benicia': 'Solano',
  'dixon': 'Solano',
  'rio vista': 'Solano',

  // Sonoma County
  'santa rosa': 'Sonoma',
  'petaluma': 'Sonoma',
  'rohnert park': 'Sonoma',
  'cotati': 'Sonoma',
  'sebastopol': 'Sonoma',
  'healdsburg': 'Sonoma',
  'windsor': 'Sonoma',
  'sonoma': 'Sonoma',
  'cloverdale': 'Sonoma',
  'guerneville': 'Sonoma',

  // Napa County
  'napa': 'Napa',
  'american canyon': 'Napa',
  'st helena': 'Napa',
  'calistoga': 'Napa',
  'yountville': 'Napa',

  // Stanislaus County
  'modesto': 'Stanislaus',
  'turlock': 'Stanislaus',
  'ceres': 'Stanislaus',
  'riverbank': 'Stanislaus',
  'oakdale': 'Stanislaus',
  'newman': 'Stanislaus',
  'patterson': 'Stanislaus',
  'waterford': 'Stanislaus',
  'hughson': 'Stanislaus',

  // San Joaquin County
  'stockton': 'San Joaquin',
  'tracy': 'San Joaquin',
  'manteca': 'San Joaquin',
  'lodi': 'San Joaquin',
  'ripon': 'San Joaquin',
  'escalon': 'San Joaquin',

  // Tulare County
  'visalia': 'Tulare',
  'tulare': 'Tulare',
  'porterville': 'Tulare',
  'dinuba': 'Tulare',
  'lindsay': 'Tulare',
  'exeter': 'Tulare',
  'farmersville': 'Tulare',
  'woodlake': 'Tulare',

  // Merced County
  'merced': 'Merced',
  'turlock': 'Merced',
  'los banos': 'Merced',
  'atwater': 'Merced',
  'livingston': 'Merced',
  'gustine': 'Merced',

  // Kings County
  'hanford': 'Kings',
  'lemoore': 'Kings',
  'corcoran': 'Kings',
  'avenal': 'Kings',

  // Madera County
  'madera': 'Madera',
  'chowchilla': 'Madera',

  // Monterey County
  'salinas': 'Monterey',
  'monterey': 'Monterey',
  'seaside': 'Monterey',
  'marina': 'Monterey',
  'pacific grove': 'Monterey',
  'carmel': 'Monterey',
  'carmel-by-the-sea': 'Monterey',
  'sand city': 'Monterey',
  'del rey oaks': 'Monterey',
  'gonzales': 'Monterey',
  'greenfield': 'Monterey',
  'king city': 'Monterey',
  'soledad': 'Monterey',

  // San Luis Obispo County
  'san luis obispo': 'San Luis Obispo',
  'paso robles': 'San Luis Obispo',
  'atascadero': 'San Luis Obispo',
  'morro bay': 'San Luis Obispo',
  'pismo beach': 'San Luis Obispo',
  'arroyo grande': 'San Luis Obispo',
  'grover beach': 'San Luis Obispo',
  'cayucos': 'San Luis Obispo',
  'cambria': 'San Luis Obispo',

  // Santa Barbara County
  'santa barbara': 'Santa Barbara',
  'santa maria': 'Santa Barbara',
  'lompoc': 'Santa Barbara',
  'goleta': 'Santa Barbara',
  'carpinteria': 'Santa Barbara',
  'guadalupe': 'Santa Barbara',
  'solvang': 'Santa Barbara',
  'buellton': 'Santa Barbara',

  // Santa Cruz County
  'santa cruz': 'Santa Cruz',
  'watsonville': 'Santa Cruz',
  'capitola': 'Santa Cruz',
  'scotts valley': 'Santa Cruz',

  // Imperial County
  'el centro': 'Imperial',
  'calexico': 'Imperial',
  'imperial': 'Imperial',
  'brawley': 'Imperial',
  'holtville': 'Imperial',
  'calipatria': 'Imperial',
  'westmorland': 'Imperial',

  // Yolo County
  'davis': 'Yolo',
  'woodland': 'Yolo',
  'west sacramento': 'Yolo',
  'winters': 'Yolo',

  // Placer County
  'roseville': 'Placer',
  'rocklin': 'Placer',
  'lincoln': 'Placer',
  'auburn': 'Placer',
  'colfax': 'Placer',
  'loomis': 'Placer',

  // El Dorado County
  'south lake tahoe': 'El Dorado',
  'placerville': 'El Dorado',
  'cameron park': 'El Dorado',
  'el dorado hills': 'El Dorado',

  // Nevada County
  'grass valley': 'Nevada',
  'nevada city': 'Nevada',
  'truckee': 'Nevada',

  // Butte County
  'chico': 'Butte',
  'oroville': 'Butte',
  'paradise': 'Butte',
  'gridley': 'Butte',
  'biggs': 'Butte',

  // Shasta County
  'redding': 'Shasta',
  'anderson': 'Shasta',
  'shasta lake': 'Shasta',

  // Humboldt County
  'eureka': 'Humboldt',
  'arcata': 'Humboldt',
  'fortuna': 'Humboldt',
  'mckinleyville': 'Humboldt',
  'ferndale': 'Humboldt',
  'rio dell': 'Humboldt',
  'blue lake': 'Humboldt',

  // Mendocino County
  'ukiah': 'Mendocino',
  'fort bragg': 'Mendocino',
  'willits': 'Mendocino',
  'point arena': 'Mendocino',

  // Lake County
  'clearlake': 'Lake',
  'lakeport': 'Lake',

  // Sutter County
  'yuba city': 'Sutter',
  'live oak': 'Sutter',

  // Yuba County
  'marysville': 'Yuba',
  'wheatland': 'Yuba',

  // Colusa County
  'colusa': 'Colusa',
  'williams': 'Colusa',

  // Glenn County
  'willows': 'Glenn',
  'orland': 'Glenn',

  // Tehama County
  'red bluff': 'Tehama',
  'corning': 'Tehama',

  // Lassen County
  'susanville': 'Lassen',

  // Modoc County
  'alturas': 'Modoc',

  // Siskiyou County
  'yreka': 'Siskiyou',
  'mount shasta': 'Siskiyou',
  'dunsmuir': 'Siskiyou',

  // Del Norte County
  'crescent city': 'Del Norte',

  // Trinity County
  'weaverville': 'Trinity',

  // Plumas County
  'quincy': 'Plumas',
  'portola': 'Plumas',

  // Sierra County
  'loyalton': 'Sierra',
  'downieville': 'Sierra',

  // Alpine County
  'markleeville': 'Alpine',

  // Mono County
  'bridgeport': 'Mono',
  'mammoth lakes': 'Mono',

  // Inyo County
  'bishop': 'Inyo',
  'lone pine': 'Inyo',
  'independence': 'Inyo',

  // Mariposa County
  'mariposa': 'Mariposa',

  // Tuolumne County
  'sonora': 'Tuolumne',
  'modesto': 'Tuolumne',

  // Calaveras County
  'angels camp': 'Calaveras',
  'san andreas': 'Calaveras',

  // Amador County
  'jackson': 'Amador',
  'plymouth': 'Amador',
  'sutter creek': 'Amador',
  'ione': 'Amador',
};

// Function to search for a city and return its county
export function findCountyByCity(cityName: string): string | null {
  const normalizedCity = cityName.toLowerCase().trim();
  return cityToCounty[normalizedCity] || null;
}

// Function to get all cities in a specific county
export function getCitiesInCounty(countyName: string): string[] {
  return Object.entries(cityToCounty)
    .filter(([_, county]) => county === countyName)
    .map(([city, _]) => city)
    .sort();
}

// Function to search cities by partial name
export function searchCities(searchTerm: string): Array<{city: string, county: string}> {
  const normalizedSearch = searchTerm.toLowerCase().trim();
  
  if (normalizedSearch.length < 2) return [];
  
  return Object.entries(cityToCounty)
    .filter(([city, _]) => city.includes(normalizedSearch))
    .map(([city, county]) => ({ city, county }))
    .sort((a, b) => a.city.localeCompare(b.city))
    .slice(0, 20); // Limit results
}